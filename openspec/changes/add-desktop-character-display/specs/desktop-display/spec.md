## ADDED Requirements

### Requirement: 桌面角色顯示
系統必須能夠在 Windows 桌面上顯示動漫角色形象，角色應以透明背景的形式呈現，不阻擋桌面內容。

#### Scenario: 啟動應用程式顯示角色
- **WHEN** 使用者執行應用程式
- **THEN** 在桌面上顯示透明背景的動漫角色視窗
- **AND** 角色視窗可以拖動到桌面任意位置
- **AND** 視窗初始位置位於桌面右下角

#### Scenario: 角色模型載入
- **WHEN** 應用程式啟動時
- **THEN** 從專案目錄載入 Live2D 角色模型文件（.model3.json）
- **AND** 正確解析模型配置、紋理、動作和表情資源
- **AND** 在 OpenGL 上下文中渲染角色形象
- **AND** 如果模型載入失敗，顯示錯誤訊息並退出

#### Scenario: 視窗置頂
- **WHEN** 角色視窗顯示時
- **THEN** 視窗應保持在最上層（WindowStaysOnTopHint）
- **AND** 視窗為無邊框模式（FramelessWindowHint）
- **AND** 不影響其他應用程式的正常使用

#### Scenario: 透明背景渲染
- **WHEN** 角色視窗顯示時
- **THEN** 視窗背景完全透明（alpha = 0）
- **AND** 僅角色本身可見，不顯示視窗邊框或背景
- **AND** 桌面內容可以透過透明區域看到

#### Scenario: 角色動畫播放
- **WHEN** 角色模型成功載入後
- **THEN** 自動播放待機動畫（Idle motion group）
- **AND** 動畫以約 60 FPS 的頻率更新
- **AND** 如果沒有 Idle 動畫，嘗試播放其他可用動畫

#### Scenario: 視窗互動
- **WHEN** 使用者按住滑鼠左鍵並拖動
- **THEN** 視窗跟隨滑鼠移動
- **AND** 視窗可以移動到桌面任意位置
- **AND** 拖動過程中角色繼續正常顯示和動畫

#### Scenario: 視窗大小調整
- **WHEN** 角色模型載入完成
- **THEN** 視窗大小根據角色畫布尺寸自動調整
- **AND** 保持角色寬高比
- **AND** 預設視窗大小為 400x600 像素（如果無法獲取模型尺寸）

### Requirement: 多角色素材與角色切換
系統必須支援在多個 Live2D 角色素材之間切換，並集中管理可用角色的模型路徑。

#### Scenario: 角色素材庫管理
- **WHEN** 應用程式啟動時
- **THEN** 從專案根目錄下的角色資料夾（例如 `mao_pro_en/`, `hiyori_pro_zh/`, `miku_pro_jp/`）中掃描可用的 Live2D 模型
- **AND** 使用程式碼定義的角色清單（角色素材庫）集中管理可用角色與其 `.model3.json` 路徑
- **AND** 若某個角色的模型檔不存在，系統自動略過該角色而不影響啟動

#### Scenario: 預設角色選擇
- **WHEN** 應用程式啟動並載入角色素材庫時
- **THEN** 系統應根據預設規則選擇一個角色作為預設顯示角色（例如優先選擇 Mao，若不存在則選第一個可用角色）
- **AND** 若沒有任何可用角色，應顯示清楚的錯誤訊息並結束程式

#### Scenario: 視窗內角色切換
- **WHEN** 系統偵測到有兩個或以上的可用角色
- **THEN** 在角色視窗底部輸入區域旁顯示一個「角色切換」按鈕，按鈕文字顯示當前角色名稱
- **AND** 使用者每點擊一次按鈕，系統輪流切換至下一個可用角色（同一視窗，不產生多個視窗）
- **AND** 切換角色時會重新載入對應的 Live2D 模型並維持既有的視窗透明、置頂與拖動行為
