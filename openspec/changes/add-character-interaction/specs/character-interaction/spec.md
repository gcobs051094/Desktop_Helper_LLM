## MODIFIED Requirements

### Requirement: 桌面角色顯示
系統必須能夠在 Windows 桌面上顯示動漫角色形象，角色應以透明背景的形式呈現，不阻擋桌面內容。

#### Scenario: 角色部位點擊互動
- **WHEN** 使用者點擊角色的不同部位（頭、肩膀、手、腳、肚子、胸部等）
- **THEN** 角色播放對應的動作動畫
- **AND** 顯示對應部位的對話泡泡框回應
- **AND** 不同部位觸發不同的動作和回應

#### Scenario: 文本輸入框可讀性
- **WHEN** 使用者在文本輸入框中輸入文字
- **THEN** 輸入的文字應為黑色，確保在灰色背景上清晰可見

### Requirement: LLM 對話功能
系統必須能夠接收使用者的文字或語音輸入，透過 Gemini API 處理並返回回應，以對話泡泡框的形式顯示在角色視窗中。

#### Scenario: 泡泡框滾動支持
- **WHEN** LLM 回應內容過長，超出泡泡框顯示範圍
- **THEN** 使用者可以使用滑鼠滾輪在泡泡框內滾動查看完整內容
- **AND** 泡泡框顯示滾動條或滾動指示

#### Scenario: 泡泡框寬度調整
- **WHEN** LLM 回應內容較長
- **THEN** 泡泡框大小維持固定尺寸
- **AND** 若內容超出顯示範圍，使用者可用滑鼠滾輪在泡泡框內查看完整內容

#### Scenario: 泡泡框格式化顯示
- **WHEN** LLM 回應包含格式化內容（換行、JSON、代碼塊等）
- **THEN** 泡泡框正確顯示格式，包括換行、縮進等
- **AND** 顯示效果類似網頁版 Gemini 的自然格式

#### Scenario: 回覆後互動冷卻
- **WHEN** 角色顯示一則回覆泡泡框後
- **THEN** 在 5 秒內忽略對角色的點擊互動
- **AND** 避免新的點擊刷掉目前回覆內容

#### Scenario: 視窗縮小但角色比例維持
- **WHEN** 系統顯示桌面角色視窗時
- **THEN** 視窗尺寸較先前版本更小
- **AND** 角色顯示比例維持（角色縮放由渲染層控制，不因視窗縮小而被放大）
- **AND** 模型載入後，視窗大小自動貼齊角色渲染區（角色貼齊透明視窗邊界）

## ADDED Requirements

### Requirement: 角色互動回應
系統必須為角色的不同部位定義對應的互動回應，當使用者點擊時顯示相應的對話。

#### Scenario: 頭部點擊
- **WHEN** 使用者點擊角色頭部
- **THEN** 播放對應動作（如 mtn_02 或其他動作）
- **AND** 顯示回應：「謝謝主人 <3 ~」

#### Scenario: 肩膀點擊
- **WHEN** 使用者點擊角色肩膀
- **THEN** 播放對應動作
- **AND** 顯示回應：「主人！你要幹嘛？！」

#### Scenario: 手部點擊
- **WHEN** 使用者點擊角色手部
- **THEN** 播放對應動作
- **AND** 顯示回應：「牽手手~」

#### Scenario: 腳部點擊
- **WHEN** 使用者點擊角色腳部
- **THEN** 播放對應動作
- **AND** 顯示回應：「不要碰我的腳啦~」

#### Scenario: 肚子點擊
- **WHEN** 使用者點擊角色肚子
- **THEN** 播放對應動作
- **AND** 顯示回應：「好癢喔~」

#### Scenario: 胸部點擊
- **WHEN** 使用者點擊角色胸部
- **THEN** 播放對應動作
- **AND** 顯示回應：「變態！不要亂摸！」
